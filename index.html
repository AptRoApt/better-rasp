<!DOCTYPE html>
<html>
<meta charset="UTF-8">
<link rel="stylesheet" href="static/raspcss.css">
<title>Расписание</title>
</head>
<body>
    <div id="pageTitle">
    <h1 id="groupName"></h1>
    <h2 id="weekNum"></h2>
    </div>

    <form>
        <input type="text" placeholder="Введите номер группы, ФИО преподавателя, номер аудитории">
    </form>
    <button class="image-button"></button>


  <table class="day">
      <thead>
      <tr>
        <td class="dayTitle" colspan="2">Понедельник, </td></tr>
      <tr>
      </thead>
      <tbody>
          <tr class="lesson">
            <td class="lessonTime"><br></td><td class="lessonInfo"></td>
            </tr>
        <tr class="lesson">
            <td class="lessonTime"></td><td class="lessonInfo"></td>
            </tr>
        <tr class="lesson">
            <td class="lessonTime"></td><td class="lessonInfo"></td>
            </tr>
        <tr class="lesson">
            <td class="lessonTime"></td><td class="lessonInfo"></td>
            </tr>
        <tr class="lesson">
            <td class="lessonTime"></td><td class="lessonInfo"></td>
            </tr>
        <tr class="lesson">
            <td class="lessonTime"></td><td class="lessonInfo"></td>
            </tr>
        <tr class="lesson">
            <td class="lessonTime"></td><td class="lessonInfo"></td>
            </tr>
        <tr class="lesson">
            <td class="lessonTime"></td><td class="lessonInfo"></td>
            </tr>
        </tbody>
    </table>

    <br>

    <table class="day">
        <thead>
            <tr>
              <td class="dayTitle" colspan="2">Вторник</td></tr>
            <tr>
            </thead>
            <tbody>
                <tr class="lesson">
                  <td class="lessonTime"><br></td><td class="lessonInfo"></td>
                  </tr>
              <tr class="lesson">
                  <td class="lessonTime"></td><td class="lessonInfo"></td>
                  </tr>
              <tr class="lesson">
                  <td class="lessonTime"></td><td class="lessonInfo"></td>
                  </tr>
              <tr class="lesson">
                  <td class="lessonTime"></td><td class="lessonInfo"></td>
                  </tr>
              <tr class="lesson">
                  <td class="lessonTime"></td><td class="lessonInfo"></td>
                  </tr>
              <tr class="lesson">
                  <td class="lessonTime"></td><td class="lessonInfo"></td>
                  </tr>
              <tr class="lesson">
                  <td class="lessonTime"></td><td class="lessonInfo"></td>
                  </tr>
              <tr class="lesson">
                  <td class="lessonTime"></td><td class="lessonInfo"></td>
                  </tr>
              </tbody>
    </table>
    <br>
    <table class = "day">
        <thead>
            <tr>
              <td class="dayTitle" colspan="2">Среда</td></tr>
            <tr>
            </thead>
            <tbody>
                <tr class="lesson">
                  <td class="lessonTime"><br></td><td class="lessonInfo"></td>
                  </tr>
              <tr class="lesson">
                  <td class="lessonTime"></td><td class="lessonInfo"></td>
                  </tr>
              <tr class="lesson">
                  <td class="lessonTime"></td><td class="lessonInfo"></td>
                  </tr>
              <tr class="lesson">
                  <td class="lessonTime"></td><td class="lessonInfo"></td>
                  </tr>
              <tr class="lesson">
                  <td class="lessonTime"></td><td class="lessonInfo"></td>
                  </tr>
              <tr class="lesson">
                  <td class="lessonTime"></td><td class="lessonInfo"></td>
                  </tr>
              <tr class="lesson">
                  <td class="lessonTime"></td><td class="lessonInfo"></td>
                  </tr>
              <tr class="lesson">
                  <td class="lessonTime"></td><td class="lessonInfo"></td>
                  </tr>
              </tbody>
    </table>
    <br>
    <table class="day">
        <thead>
            <tr>
              <td class="dayTitle" colspan="2">Четверг</td></tr>
            <tr>
            </thead>
            <tbody>
                <tr class="lesson">
                  <td class="lessonTime"><br></td><td class="lessonInfo"></td>
                  </tr>
              <tr class="lesson">
                  <td class="lessonTime"></td><td class="lessonInfo"></td>
                  </tr>
              <tr class="lesson">
                  <td class="lessonTime"></td><td class="lessonInfo"></td>
                  </tr>
              <tr class="lesson">
                  <td class="lessonTime"></td><td class="lessonInfo"></td>
                  </tr>
              <tr class="lesson">
                  <td class="lessonTime"></td><td class="lessonInfo"></td>
                  </tr>
              <tr class="lesson">
                  <td class="lessonTime"></td><td class="lessonInfo"></td>
                  </tr>
              <tr class="lesson">
                  <td class="lessonTime"></td><td class="lessonInfo"></td>
                  </tr>
              <tr class="lesson">
                  <td class="lessonTime"></td><td class="lessonInfo"></td>
                  </tr>
              </tbody>
    </table>
    <br>
    <table class ="day">
        <thead>
            <tr>
              <td class="dayTitle" colspan="2">Пятница</td></tr>
            <tr>
            </thead>
            <tbody>
                <tr class="lesson">
                  <td class="lessonTime"><br></td><td class="lessonInfo"></td>
                  </tr>
              <tr class="lesson">
                  <td class="lessonTime"></td><td class="lessonInfo"></td>
                  </tr>
              <tr class="lesson">
                  <td class="lessonTime"></td><td class="lessonInfo"></td>
                  </tr>
              <tr class="lesson">
                  <td class="lessonTime"></td><td class="lessonInfo"></td>
                  </tr>
              <tr class="lesson">
                  <td class="lessonTime"></td><td class="lessonInfo"></td>
                  </tr>
              <tr class="lesson">
                  <td class="lessonTime"></td><td class="lessonInfo"></td>
                  </tr>
              <tr class="lesson">
                  <td class="lessonTime"></td><td class="lessonInfo"></td>
                  </tr>
              <tr class="lesson">
                  <td class="lessonTime"></td><td class="lessonInfo"></td>
                  </tr>
              </tbody>
    </table>
    <br>
    <table class="day">
        <thead>
            <tr>
              <td class="dayTitle" colspan="2">Суббота</td></tr>
            <tr>
            </thead>
            <tbody>
                <tr class="lesson">
                  <td class="lessonTime"><br></td><td class="lessonInfo"></td>
                  </tr>
              <tr class="lesson">
                  </tr>
              <tr class="lesson">
                  <td class="lessonTime"></td><td class="lessonInfo"></td>
                  </tr>
              <tr class="lesson">
                  <td class="lessonTime"></td><td class="lessonInfo"></td>
                  </tr>
              <tr class="lesson">
                  <td class="lessonTime"></td><td class="lessonInfo"></td>
                  </tr>
              <tr class="lesson">
                  <td class="lessonTime"></td><td class="lessonInfo"></td>
                  </tr>
              <tr class="lesson">
                  <td class="lessonTime"></td><td class="lessonInfo"></td>
                  </tr>
              <tr class="lesson">
                  <td class="lessonTime"></td><td class="lessonInfo"></td>
                  </tr>
              </tbody>
    </table>
    <script>

        // Функция получения номера недели по РЭУ
        function getCurrentReaWeek() {
            const currentDate = new Date();
            const januaryFirst = 
                new Date(currentDate.getFullYear(), 0, 1);
            const daysToNextMonday = 
                (januaryFirst.getDay() === 1) ? 0 : 
                (7 - januaryFirst.getDay()) % 7;
            const nextMonday = 
                new Date(currentDate.getFullYear(), 0, 
                januaryFirst.getDate() + daysToNextMonday);
        
            const weekNum = (currentDate < nextMonday) ? 52 : 
            (currentDate > nextMonday ? Math.ceil(
            (currentDate - nextMonday) / (24 * 3600 * 1000) / 7) : 1);
            return (weekNum - 34 <= 0) ? weekNum + 18 : weekNum - 34
        }      
        
        // Функция задания начальных значений
        function init() {
            // Задаём номер недели по РЭУ
            let weekNum = document.getElementById("weekNum")
            weekNum.innerText = "Неделя " + getCurrentReaWeek();

            // Задаём время пар     
            const timetable = ['08:30:00 - 10:00:00','10:10:00 - 11:40:00',
            '11:50:00 - 13:20:00', '14:00:00 - 15:30:00',
            '15:40:00 - 17:10:00', '17:20:00 - 18:50:00',
            '18:55:00 - 20:25:00', '20:30:00 - 22:00:00']
        }

        function setLesson(lesson) {
            
        }

        async function getScheduleForRoom(buildingNum, roomNum) {
            const resp = await fetch("api/getScheduleForRoom/" + buildingNum + "/" + roomNum)
            const lessons = await resp.json();
            
        }
        // Выполняем первоначальную настройку
        init()



    </script>
</body>
</html>